{
  "version": 3,
  "sources": ["../../../index.js"],
  "sourceRoot": "C:\\Coding\\how-to-answer_-what-are-your-salary-expectations_\\worker\\.wrangler\\tmp\\deploy-Flt84b",
  "sourcesContent": ["export default {\r\n    async fetch(request, env, ctx) {\r\n        const url = new URL(request.url);\r\n\r\n        // 1. Handle CORS Preflight (OPTIONS)\r\n        if (request.method === \"OPTIONS\") {\r\n            return new Response(null, {\r\n                headers: {\r\n                    \"Access-Control-Allow-Origin\": \"*\", // You can restrict this to your domain later\r\n                    \"Access-Control-Allow-Methods\": \"GET, OPTIONS\",\r\n                    \"Access-Control-Allow-Headers\": \"Content-Type, x-api-key\",\r\n                },\r\n            });\r\n        }\r\n\r\n        // 2. Prepare the target URL\r\n        const targetUrl = new URL(\"https://api.openwebninja.com/jsearch/company-job-salary\");\r\n        url.searchParams.forEach((value, key) => {\r\n            targetUrl.searchParams.set(key, value);\r\n        });\r\n\r\n        const response = await fetch(targetUrl.toString(), {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"x-api-key\": env.NINJA_API_KEY,\r\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\r\n            },\r\n            cf: {\r\n                // Cache successful responses for 1 hour (3600 seconds)\r\n                cacheTtl: 3600,\r\n                // Ensure everything is cached regardless of origin headers\r\n                cacheEverything: true,\r\n                // Specific TTLs based on status codes\r\n                cacheTtlByStatus: { \"200-299\": 3600, 404: 1, \"500-599\": 0 }\r\n            }\r\n        });\r\n\r\n        const newHeaders = new Headers(response.headers);\r\n        newHeaders.set(\"Access-Control-Allow-Origin\", \"*\");\r\n\r\n        return new Response(response.body, {\r\n            status: response.status,\r\n            statusText: response.statusText,\r\n            headers: newHeaders,\r\n        });\r\n    },\r\n};\r\n"],
  "mappings": ";AAAA,IAAO,gBAAQ;AAAA,EACX,MAAM,MAAM,SAAS,KAAK,KAAK;AAC3B,UAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;AAG/B,QAAI,QAAQ,WAAW,WAAW;AAC9B,aAAO,IAAI,SAAS,MAAM;AAAA,QACtB,SAAS;AAAA,UACL,+BAA+B;AAAA;AAAA,UAC/B,gCAAgC;AAAA,UAChC,gCAAgC;AAAA,QACpC;AAAA,MACJ,CAAC;AAAA,IACL;AAGA,UAAM,YAAY,IAAI,IAAI,yDAAyD;AACnF,QAAI,aAAa,QAAQ,CAAC,OAAO,QAAQ;AACrC,gBAAU,aAAa,IAAI,KAAK,KAAK;AAAA,IACzC,CAAC;AAED,UAAM,WAAW,MAAM,MAAM,UAAU,SAAS,GAAG;AAAA,MAC/C,QAAQ;AAAA,MACR,SAAS;AAAA,QACL,aAAa,IAAI;AAAA,QACjB,cAAc;AAAA,MAClB;AAAA,MACA,IAAI;AAAA;AAAA,QAEA,UAAU;AAAA;AAAA,QAEV,iBAAiB;AAAA;AAAA,QAEjB,kBAAkB,EAAE,WAAW,MAAM,KAAK,GAAG,WAAW,EAAE;AAAA,MAC9D;AAAA,IACJ,CAAC;AAED,UAAM,aAAa,IAAI,QAAQ,SAAS,OAAO;AAC/C,eAAW,IAAI,+BAA+B,GAAG;AAEjD,WAAO,IAAI,SAAS,SAAS,MAAM;AAAA,MAC/B,QAAQ,SAAS;AAAA,MACjB,YAAY,SAAS;AAAA,MACrB,SAAS;AAAA,IACb,CAAC;AAAA,EACL;AACJ;",
  "names": []
}
