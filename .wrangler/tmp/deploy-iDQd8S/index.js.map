{
  "version": 3,
  "sources": ["../../../worker/index.js"],
  "sourceRoot": "C:\\Coding\\how-to-answer_-what-are-your-salary-expectations_\\.wrangler\\tmp\\deploy-iDQd8S",
  "sourcesContent": ["export default {\r\n    async fetch(request, env, ctx) {\r\n        const url = new URL(request.url);\r\n\r\n        // 1. Route API requests (path starting with /ninja-api)\r\n        if (url.pathname.startsWith(\"/ninja-api\")) {\r\n            // Handle CORS Preflight (OPTIONS)\r\n            if (request.method === \"OPTIONS\") {\r\n                return new Response(null, {\r\n                    headers: {\r\n                        \"Access-Control-Allow-Origin\": \"*\",\r\n                        \"Access-Control-Allow-Methods\": \"GET, OPTIONS\",\r\n                        \"Access-Control-Allow-Headers\": \"Content-Type, x-api-key\",\r\n                    },\r\n                });\r\n            }\r\n\r\n            // Prepare the target URL\r\n            const targetUrl = new URL(\"https://api.openwebninja.com/jsearch/company-job-salary\");\r\n            // Forward search params\r\n            url.searchParams.forEach((value, key) => {\r\n                targetUrl.searchParams.set(key, value);\r\n            });\r\n\r\n            // Fetch from upstream\r\n            const response = await fetch(targetUrl.toString(), {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"x-api-key\": env.NINJA_API_KEY,\r\n                    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\r\n                },\r\n                cf: {\r\n                    cacheTtl: 3600,\r\n                    cacheEverything: true,\r\n                    cacheTtlByStatus: { \"200-299\": 3600, 404: 1, \"500-599\": 0 }\r\n                }\r\n            });\r\n\r\n            // Re-wrap response with CORS\r\n            const newHeaders = new Headers(response.headers);\r\n            newHeaders.set(\"Access-Control-Allow-Origin\", \"*\");\r\n\r\n            return new Response(response.body, {\r\n                status: response.status,\r\n                statusText: response.statusText,\r\n                headers: newHeaders,\r\n            });\r\n        }\r\n\r\n        // 2. Fallback: Serve Static Assets (Angular App)\r\n        // required for SPA to work on non-API routes\r\n        return env.ASSETS.fetch(request);\r\n    },\r\n};\r\n"],
  "mappings": ";AAAA,IAAO,gBAAQ;AAAA,EACX,MAAM,MAAM,SAAS,KAAK,KAAK;AAC3B,UAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;AAG/B,QAAI,IAAI,SAAS,WAAW,YAAY,GAAG;AAEvC,UAAI,QAAQ,WAAW,WAAW;AAC9B,eAAO,IAAI,SAAS,MAAM;AAAA,UACtB,SAAS;AAAA,YACL,+BAA+B;AAAA,YAC/B,gCAAgC;AAAA,YAChC,gCAAgC;AAAA,UACpC;AAAA,QACJ,CAAC;AAAA,MACL;AAGA,YAAM,YAAY,IAAI,IAAI,yDAAyD;AAEnF,UAAI,aAAa,QAAQ,CAAC,OAAO,QAAQ;AACrC,kBAAU,aAAa,IAAI,KAAK,KAAK;AAAA,MACzC,CAAC;AAGD,YAAM,WAAW,MAAM,MAAM,UAAU,SAAS,GAAG;AAAA,QAC/C,QAAQ;AAAA,QACR,SAAS;AAAA,UACL,aAAa,IAAI;AAAA,UACjB,cAAc;AAAA,QAClB;AAAA,QACA,IAAI;AAAA,UACA,UAAU;AAAA,UACV,iBAAiB;AAAA,UACjB,kBAAkB,EAAE,WAAW,MAAM,KAAK,GAAG,WAAW,EAAE;AAAA,QAC9D;AAAA,MACJ,CAAC;AAGD,YAAM,aAAa,IAAI,QAAQ,SAAS,OAAO;AAC/C,iBAAW,IAAI,+BAA+B,GAAG;AAEjD,aAAO,IAAI,SAAS,SAAS,MAAM;AAAA,QAC/B,QAAQ,SAAS;AAAA,QACjB,YAAY,SAAS;AAAA,QACrB,SAAS;AAAA,MACb,CAAC;AAAA,IACL;AAIA,WAAO,IAAI,OAAO,MAAM,OAAO;AAAA,EACnC;AACJ;",
  "names": []
}
